# This is the default rssh config file

# set the log facility.  "LOG_USER" and "user" are equivalent.
{% if rssh_logfacility is defined %}
logfacility = {{ rssh_logfacility }} 
{% else %}
logfacility = LOG_USER 
{% endif %}

# Leave these all commented out to make the default action for rssh to lock
# users out completely...

{% if rssh_allowscp is defined %}
{%   if rssh_allowscp %}
allowscp
{%   else %}
#allowscp
{%   endif %}
{% else %}
#allowscp
{% endif %}
{% if rssh_allowsftp is defined %}
{%   if rssh_allowsftp %}
allowsftp
{%   else %}
#allowsftp
{%   endif %}
{% else %}
#allowsftp
{% endif %}
{% if rssh_allowcvs is defined %}
{%   if rssh_allowcvs %}
allowcvs
{%   else %}
#allowcvs
{%   endif %}
{% else %}
#allowcvs
{% endif %}
{% if rssh_allowrdist is defined %}
{%   if rssh_allowrdist %}
allowrdist
{%   else %}
#allowrdist
{%   endif %}
{% else %}
#allowrdist
{% endif %}
{% if rssh_allowrsync is defined %}
{%   if rssh_allowrsync %}
allowrsync
{%   else %}
#allowrsync
{%   endif %}
{% else %}
#allowrsync
{% endif %}

# set the default umask
{% if rssh_umask is defined %}
umask = {{ rssh_umask }}
{% else %}
umask = 022
{% endif %}

# If you want to chroot users, use this to set the directory where the root of
# the chroot jail will be located.
#
# if you DO NOT want to chroot users, LEAVE THIS COMMENTED OUT.
{% if rssh_chrootpath is defined %}
chrootpath = "{{ rssh_chrootpath }}"
{% else %}
# chrootpath = /usr/local/chroot
{% endif %}

# You can quote anywhere, but quotes not required unless the path contains a
# space... as in this example.
#chrootpath = "/usr/local/my chroot"

##########################################
# EXAMPLES of configuring per-user options

{% if rssh_users is defined %}
{%   for username in rssh_users|sort %}
{%     if rssh_users[username]['path'] is defined %}
user="{{ username }}:{{ rssh_users[username]['umask'] }}:{{ rssh_users[username]['access_bits'] }}:{{ rssh_users[username]['path'] }}"
{%     else %}
user="{{ username }}:{{ rssh_users[username]['umask'] }}:{{ rssh_users[username]['access_bits'] }}"
{%     endif %}
{%   endfor %}
{% else %}
#user=rudy:077:00010:  # the path can simply be left out to not chroot
#user=rudy:077:00010   # the ending colon is optional

#user=rudy:011:00100:  # cvs, with no chroot 
#user=rudy:011:01000:  # rdist, with no chroot
#user=rudy:011:10000:  # rsync, with no chroot
#user="rudy:011:00001:/usr/local/chroot"  # whole user string can be quoted
#user=rudy:01"1:00001:/usr/local/chroot"  # or somewhere in the middle, freak!
#user=rudy:'011:00001:/usr/local/chroot'  # single quotes too

# if your chroot_path contains spaces, it must be quoted...
# In the following examples, the chroot_path is "/usr/local/my chroot"
#user=rudy:011:00001:"/usr/local/my chroot"  # scp with chroot
#user=rudy:011:00010:"/usr/local/my chroot"  # sftp with chroot
#user=rudy:011:00011:"/usr/local/my chroot"  # both with chroot

# Spaces before or after the '=' are fine, but spaces in chrootpath need
# quotes.
#user = "rudy:011:00001:/usr/local/my chroot"  
#user = "rudy:011:00001:/usr/local/my chroot"  # neither do comments at line end
{% endif %}

